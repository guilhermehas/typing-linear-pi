\documentclass[a4paper,UKenglish,cleveref, autoref, thm-restate,authorcolumns]{lipics-v2019}

\usepackage[utf8]{inputenc}
\usepackage{url}
\usepackage{todonotes}
\usepackage{enumitem}
\setlist{parsep=0pt,listparindent=\parindent}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage[many]{tcolorbox}
\bibliographystyle{plainurl}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\title{Typing a linear \picalc}
\author{Uma Zalakain}{University of Glasgow, Scotland}
       {u.zalakain.1@research.gla.ac.uk}{https://orcid.org/0000-0002-3268-9338}{}
\author{Ornela Dardha}{University of Glasgow, Scotland}
       {ornela.dardha@glasgow.ac.uk}{https://orcid.org/0000-0001-9927-7875}{}
\authorrunning{U. Zalakain and O. Dardha}
\Copyright{Uma Zalakain and Ornela Dardha}
\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10003752.10003753.10003761.10003764</concept_id>
<concept_desc>Theory of computation~Process calculi</concept_desc>
<concept_significance>300</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}
\ccsdesc[300]{Theory of computation~Process calculi}
\keywords{pi calculus, linear, types, concurrency}
\supplement{\url{https://github/umazalakain/typing-linear-pi}}
\acknowledgements{I want to thank \dots}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Commands for the pi-calculus
\newcommand{\PO}{\mathbf{0}}
\newcommand{\comp}[2]{#1 \mid #2}
\newcommand{\new}[2]{(\boldsymbol{\nu} #1 #2)\,}
\newcommand{\cout}[2]{\overline{#1}\langle#2\rangle.}
\newcommand{\cin}[2]{#1(#2).}
\newcommand{\select}[2]{#1\triangleleft#2.}
\newcommand{\branch}[2]{#1\triangleright#2}

\newcommand{\subst}[3]{#1[#2/#3]}

\newcommand{\picalc}{$\pi$-calculus}
\newcommand{\Picalc}{$\pi$-Calculus}

\newcommand{\type}{\texttt}
\newcommand{\End}{\type{End}}
\newcommand{\Send}[1]{!#1.}
\newcommand{\Recv}[1]{?#1.}
\newcommand{\Select}{\oplus}
\newcommand{\Branch}{\&}
\newcommand{\dual}{\overline}

\newcommand{\reduce}{\rightarrow}

\begin{document}

\maketitle

\begin{abstract}
  We present the syntax, operational semantics, and typing rules of a \picalc{} with linear and shared types.
  We abstract over types (using \emph{shapes} to untangle usage contexts from typing contexts) and generalize the algebras on multiplicities (using indexed sets of \emph{partial commutative monoids}).
  We use leftover typing \cite{Allais2018a} to encode our typing rules in a way that propagates linearity constraints into process continuations.
  We provide framing, weakening and strengthening proofs that we then use to prove subject congruence.
  We show that the type system is stable under substitution and prove subject reduction.

  This formalization has been fully mechanized with Agda and is available at \url{https://github.com/umazalakain/typing-linear-pi}.
\end{abstract}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction}

extensional typing rules for a given syntax and operational semantics

\subsection{Contribution}

machine verified formalisation of the pi calculus

typing with leftovers applied to the pi calculus

multiple multiplicities per variable

multiple multiplicity types

full formalisation available in Agda

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Related work}

\cite{previous-work} polymorphic tokens, HOAS

\cite{typing-with-leftovers}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Syntax}

variable references (strings, locally named, de Bruijn)

allows to ignore alpha conversion, or proofs of inequality between strings

strings to maybe de Bruijn, names can be kept in context as well, just not doing it

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Semantics}

\subsection{Structural congruence}

congruence relationship indexed by recursive tree

\subsection{Reduction}

keeping track of the variable on which communication occurs


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Linear typing rules}

\subsection{Variable references}

\begin{description}
  \item[Polarities]
  \item[Multiple variables]
  \item[Vectors]
    Most general solution, $n$ possible multiplicities
\end{description}

\subsection{Multiplicities}

Generalisation over indexed sets of \emph{partial commutative monoids}

given two multiplicities, the third is uniquely determined. this is better modelled through a function rather than an inductive type.

polarities could be encoded into an albelian group. however these processes still need to be closed to be well-typed, or have some kind of predicate on the input context.

\subsection{Variable types and multiplicities}

two-layered approach: types on one hand, capabilities on the other
removing from context vs keeping in context but marking it used

\subsection{Typing with leftovers}

\subsubsection{Typing relation}

Variable references as proofs of capability

Context splits at each variable reference

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Subject reduction}

\subsection{Framing}

Definition
Let $\Gamma \type P \boxtimes \Delta$ and $\Gamma - Delta \equiv \Xi - \phi$.
Then $\Xi \type P \boxtimes \phi$.

By defining of $\uplus$ as a total function, $\Gamma - \Delta$ is no longer
functional: $\omega - \omega$ results in any multiplicity, including $0$. Therefore
$\Xi \type P \boxtimes \phi$ would imply that such a variable cannot appear in $P$.

\subsection{Weakening}

\subsection{Strengthening}

\subsection{Swapping}

\subsection{Substitution}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Future work}

Work that will be done time permiting:

\begin{description}

\item [Soundness and completeness with respect to an alternative formalization.]

\item [Proof of progress]

\item [Product types]

\item [Sum types]

\item [Decidable typechecking]

\item [Encoding of session types]

\end{description}


\bibliography{paper}
\end{document}
